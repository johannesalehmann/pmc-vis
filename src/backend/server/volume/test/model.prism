mdp

label "obj" = 28<=loc & loc <=32;

module Train
    loc: [0..40] init 0;
    direction: [0..1] init 0;

    [] (loc=0&direction=0) -> (loc'=1);
    [] (loc=0&direction=0) -> (loc'=2);

    [] (loc=1&direction=0) -> (loc'=2);
    [] (loc=1&direction=0) -> (loc'=3);

    [] (loc=2&direction=0) -> (loc'=5);
    [] (loc=2&direction=0) -> (loc'=7);

    [] (loc=3&direction=0) -> (loc'=4);
    [] (loc=3&direction=0) -> (loc'=6);

    [] (loc=4&direction=0) -> (loc'=6);

    [] (loc=5&direction=0) -> (loc'=7);

    [] (loc=6&direction=0) -> (loc'=8);

    [] (loc=7&direction=0) -> (loc'=7);
    [] (loc=7&direction=0) -> (loc'=11);

    [] (loc=8&direction=0) -> (loc'=9);
    [] (loc=8&direction=0) -> (loc'=10);

    [] (loc=9&direction=0) -> (loc'=12);
    [] (loc=9&direction=0) -> (loc'=13);

    [] (loc=10&direction=0) -> (loc'=11);
    [] (loc=10&direction=0) -> (loc'=14);

    [] (loc=11&direction=0) -> (loc'=15);
    [] (loc=11&direction=0) -> (loc'=16);

    [] (loc=12&direction=0) -> (loc'=13);
    [] (loc=12&direction=0) -> (loc'=38)&(direction'=1);

    [] (loc=13&direction=0) -> (loc'=35)&(direction'=1);

    [] (loc=14&direction=0) -> (loc'=15);

    [] (loc=15&direction=0) -> (loc'=16);
    [] (loc=15&direction=0) -> (loc'=40);

    [] (loc=16&direction=0) -> (loc'=18);
    [] (loc=16&direction=0) -> (loc'=33);

    [] (loc=17&direction=0) -> (loc'=21);
    [] (loc=17&direction=0) -> (loc'=22);

    [] (loc=18&direction=0) -> (loc'=20);

    [] (loc=20&direction=0) -> (loc'=21);

    [] (loc=21&direction=0) -> (loc'=31);
    [] (loc=22&direction=0) -> (loc'=31);

    // [] (loc=21&direction=0) -> (loc'=31);
    // [] (loc=21&direction=0) -> (loc'=32);

    // [] (loc=22&direction=0) -> (loc'=30);
    // [] (loc=22&direction=0) -> (loc'=31);

    // [] (loc=23&direction=0) -> (loc'=27);
    [] (loc=23&direction=0) -> (loc'=30);

    [] (loc=24&direction=0) -> (loc'=25);
    [] (loc=24&direction=0) -> (loc'=32);

    [] (loc=25&direction=0) -> (loc'=23);
    [] (loc=25&direction=0) -> (loc'=31);

    [] (loc=26&direction=0) -> (loc'=27);
    [] (loc=26&direction=0) -> (loc'=28);

    [] (loc=33&direction=0) -> (loc'=34);
    [] (loc=33&direction=0) -> (loc'=35);

    [] (loc=34&direction=0) -> (loc'=35);
    [] (loc=34&direction=0) -> (loc'=37);

    [] (loc=35&direction=0) -> (loc'=36);
    [] (loc=35&direction=0) -> (loc'=13)&(direction'=1);

    [] (loc=37&direction=0) -> (loc'=38);
    // [] (loc=37&direction=0) -> (loc'=39);

    [] (loc=38&direction=0) -> (loc'=12)&(direction'=1);

    //[] (loc=39&direction=0) -> (loc'=38);

    [] (loc=40&direction=0) -> (loc'=17);
    [] (loc=40&direction=0) -> (loc'=34);

    [] (loc=1&direction=1) -> (loc'=0);

    [] (loc=2&direction=1) -> (loc'=0);
    [] (loc=2&direction=1) -> (loc'=1);

    [] (loc=3&direction=1) -> (loc'=1);

    [] (loc=4&direction=1) -> (loc'=3);

    [] (loc=5&direction=1) -> (loc'=2);

    [] (loc=6&direction=1) -> (loc'=3);
    [] (loc=6&direction=1) -> (loc'=4);

    [] (loc=7&direction=1) -> (loc'=2);
    [] (loc=7&direction=1) -> (loc'=5);

    [] (loc=8&direction=1) -> (loc'=6);
    [] (loc=8&direction=1) -> (loc'=7);

    [] (loc=9&direction=1) -> (loc'=8);

    [] (loc=10&direction=1) -> (loc'=8);

    [] (loc=11&direction=1) -> (loc'=7);
    [] (loc=11&direction=1) -> (loc'=10);

    [] (loc=12&direction=1) -> (loc'=9);
    [] (loc=12&direction=1) -> (loc'=14)&(direction'=0);

    [] (loc=13&direction=1) -> (loc'=9);
    [] (loc=13&direction=1) -> (loc'=12);

    [] (loc=14&direction=1) -> (loc'=12)&(direction'=0);
    [] (loc=14&direction=1) -> (loc'=10);

    [] (loc=15&direction=1) -> (loc'=11);
    [] (loc=15&direction=1) -> (loc'=14);

    [] (loc=16&direction=1) -> (loc'=11);
    [] (loc=16&direction=1) -> (loc'=15);

    [] (loc=33&direction=1) -> (loc'=16);

    [] (loc=34&direction=1) -> (loc'=33);
    [] (loc=34&direction=1) -> (loc'=40);

    [] (loc=35&direction=1) -> (loc'=33);
    [] (loc=35&direction=1) -> (loc'=34);

    [] (loc=37&direction=1) -> (loc'=34);

    [] (loc=38&direction=1) -> (loc'=37);
    // [] (loc=38&direction=1) -> (loc'=39);

    // [] (loc=39&direction=1) -> (loc'=37);

    [] (loc=40&direction=1) -> (loc'=15);
endmodule